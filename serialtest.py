#!/usr/bin/python3

# quick test to similate kiln offline

import serial
import time

ser = serial.Serial('/dev/tty.usbserial-A100FZ47', 115200)  # open serial port
print(ser.name)         # check which port was really used

dummy = ['0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1\n',
         '1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1\n',
         '2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2\n',
         '3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3\n',
         '4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4\n',
         '5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5\n',
         '6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6\n' ]
        
# 21 columns
sample = ['0,1,0,102,0,0,0,5,68.7,0,68.5,68.5,-5000.0,-5000.0,0.7,0.0,0.0,255,79.9,0.0,0.0\n',
          '0,1,0,102,0,0,0,10,69.0,0,68.5,68.5,-5000.0,-5000.0,1.7,0.0,0.0,255,79.9,0.0,0.0\n',
          '0,1,0,102,0,0,0,15,69.3,0,68.4,68.4,-5000.0,-5000.0,3.7,0.0,0.0,255,79.9,0.0,0.0\n',
          '0,1,0,102,0,0,0,20,69.5,0,68.6,68.6,-5000.0,-5000.0,4.1,0.0,0.0,255,79.9,0.0,0.0\n',
          '0,1,0,102,0,0,0,25,69.8,0,68.6,68.6,-5000.0,-5000.0,4.9,0.0,0.0,255,80.1,0.0,0.0\n',
          '0,1,0,102,0,0,0,30,70.1,0,68.6,68.6,-5000.0,-5000.0,5.8,0.0,0.0,255,80.1,0.0,0.0\n',
          '0,1,0,102,0,0,0,35,70.4,0,68.8,68.8,-5000.0,-5000.0,6.5,0.0,0.0,255,80.2,0.0,0.0\n',
          '0,1,0,102,0,0,0,40,70.7,0,68.8,68.8,-5000.0,-5000.0,7.4,0.0,0.0,255,80.2,0.0,0.0\n',
          '0,1,0,102,0,0,0,45,70.9,0,69.2,69.2,-5000.0,-5000.0,6.8,0.0,0.0,255,80.3,0.0,0.0\n',
          '0,1,0,102,0,0,0,50,71.2,0,69.2,69.2,-5000.0,-5000.0,7.7,0.0,0.0,255,80.5,0.0,0.0\n']

for line in dummy:
    ser.write(line.encode())     # write a string
    print(f'DEBUG: Sent {line}')
    time.sleep(5)
ser.close()             # close port

